<!doctype html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <base href="/">

    <link rel="stylesheet" href="/webjars/jquery-ui/1.12.1/jquery-ui.css" />
    <link rel="stylesheet" href="/webjars/bootstrap/5.1.3/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/webjars/font-awesome/5.15.2/css/all.min.css" />
    <link rel="stylesheet" href="/webjars/google-code-prettify/1.0.5/bin/prettify.min.css" />
    <link rel="stylesheet" th:href="'/css/app.css?version=' + ${version}" />

    <script src="/webjars/jquery/3.6.0/jquery.min.js"></script>
    <script src="/webjars/jquery-ui/1.12.1/jquery-ui.js"></script>
    <script src="/webjars/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
    <script src="/webjars/bootbox/5.5.2/bootbox.js"></script>
    <script src="/webjars/bootbox/5.5.2/bootbox.locales.js"></script>
    <script src="/webjars/croppie/2.6.5/croppie.min.js"></script>
    <script src="/webjars/momentjs/2.29.1/moment.js"></script>
    <script src="/webjars/momentjs/2.29.1/locale/fr.js"></script>

    <link rel="icon" type="image/png" th:href="@{/images/favicon.ico}" />

    <title th:text="#{application.title}"></title>
</head>
<body>
    <th:block th:if="${userEppn != null}">
    <nav th:replace="fragments/nav"></nav>
    </th:block>
    <th:block th:unless="${userEppn != null}">
    <nav th:replace="fragments/nav-empty"></nav>
    </th:block>
    <div class="card col-lg-10 mx-auto" style="top: 60px;">
        <div class="card-body">
            <h1>Une erreur s’est produite<span th:if="${userEppn != null}" th:text=" ' : ' + ${error}"></span></h1>
            <p>Merci de contacter le gestionnaire de cette application</p>
            <p><a th:href="'mailto:' + ${applicationEmail}" th:text="${applicationEmail}" target="_blank"></a></p>
            <a th:if="${userEppn != null}" class="btn btn-success" href="javascript:window.history.back();">Retour</a>
            <button th:if="${userEppn != null}" class="btn btn-link" data-bs-toggle="collapse" data-bs-target="#collapseError">
                <i class="fas fa-chevron-down"></i> Détails de l’erreur
            </button>
            <div id="collapseError" class="collapse mt-2" th:if="${userEppn != null}">
            <table class="table table-striped">
                <tr class="row rowDesign">
                    <td class="col-md-4 ms-auto">
                        <span class="legend">Date</span>
                    </td>
                    <td class="col-md-8">
                        <span th:text="${timestamp}"></span>
                    </td>
                </tr>
                <tr class="row rowDesign">
                    <td class="col-md-4 ms-auto">
                        <span class="legend">Path</span>
                    </td>
                    <td class="col-md-8">
                        <span th:text="${path}"></span>
                    </td>
                </tr>
                <tr class="row rowDesign">
                    <td class="col-md-4 ms-auto">
                        <span class="legend">Error</span>
                    </td>
                    <td class="col-md-8">
                        <span th:text="${error}"></span>
                    </td>
                </tr>
                <tr class="row rowDesign">
                    <td class="col-md-4 ms-auto">
                        <span class="legend">Status</span>
                    </td>
                    <td class="col-md-8">
                        <span th:text="${status}"></span>
                    </td>
                </tr>
                <tr class="row rowDesign">
                    <td class="col-md-4 ms-auto">
                        <span class="legend">Message</span>
                    </td>
                    <td class="col-md-8">
                        <span th:text="${message}"></span>
                    </td>
                </tr>
                <tr class="row rowDesign">
                    <td class="col-md-4 ms-auto">
                        <span class="legend">Exception</span>
                    </td>
                    <td class="col-md-8">
                        <span th:text="${exception}"></span>
                    </td>
                </tr>
                <tr class="row rowDesign">
                    <td class="col-md-4 ms-auto">
                        <span class="legend">Trace</span>
                    </td>
                    <td class="col-md-8">
                        <span th:text="${trace}"></span>
                    </td>
                </tr>
            </table>
            </div>
        </div>
    </div>
    <footer th:replace="fragments/footer"></footer>
</body>
</html>