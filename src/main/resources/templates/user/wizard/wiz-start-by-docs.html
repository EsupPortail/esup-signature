<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<div id="stepper1" class="bs-stepper linear">
    <div class="bs-stepper-header" role="tablist">
        <div class="step active" data-bs-target="#test-l-2">
            <span class="bs-stepper-circle"><i class="fas fa-copy"></i></span>
            <span class="bs-stepper-label">Dépôt des fichiers</span>
        </div>
        <div class="bs-stepper-line"></div>
        <div class="step" data-bs-target="#test-l-3">
            <span class="bs-stepper-circle"><i class="fas fa-project-diagram"></i></span>
            <span class="bs-stepper-label">Création du circuit</span>
        </div>
        <div class="bs-stepper-line"></div>
        <div class="step" data-bs-target="#test-l-3">
            <span class="bs-stepper-circle"><i class="fas fa-save"></i></span>
            <span class="bs-stepper-label">Sauvegarde</span>
        </div>
        <div class="bs-stepper-line"></div>
        <div class="step" data-bs-target="#test-l-3">
            <span class="bs-stepper-circle"><i class="fas fa-flag-checkered"></i></span>
            <span class="bs-stepper-label">Fin</span>
        </div>
    </div>
</div>
<hr>
<h4 class="d-flex justify-content-center mt-4">Dépôt des fichiers</h4>
<div class="col-lg-12">
    <form id="startByDocs" th:action="'/ws-secure/signrequests/start-workflow/' + ${workflow != null ? workflow.name : 'custom'}" th:method="post" enctype="multipart/form-data">
    <div class="form-group mb-3">
        <label class="form-label" for="titleWiz">Titre <span th:if="${workflow != null}">(Facultatif)</span><span th:unless="${workflow != null}">(Obligatoire)</span></label>
        <input th:required="${workflow == null}" type="text" placeholder="Vous pouvez saisir un titre pour retrouver votre demande" id="titleWiz" name="title" class="form-control">
        <input type="submit" id="titleWizSubmit" class="d-none">
    </div>
    <div class="form-group mb-3">
        <div class="file-loading">
            <input th:id="'multipartFiles_' + ${workflow != null ? workflow.id : '0'}" name="multipartFiles" type="file" multiple="multiple" th:accept="${globalProperties.pdfOnly} ? 'application/pdf' : ''">
        </div>
    </div>
    <div class="form-group mb-3">
        <div id="forceAllSign2" class="form-check form-switch form-switch-md d-none">
            <input class="form-check-input" type="checkbox" name="forceAllSign2">
            <label class="form-check-label">Forcer la signature de tous les documents</label>
        </div>
        <div id="unique" class="form-check form-switch form-switch-md d-none">
            <input type="checkbox" class="form-check-input" name="unique">
            <label class="form-check-label">Encapsuler tous les documents dans un seul fichier en fin de circuit</label>
        </div>
        <div>
            <label class="form-label" for="commentWiz">Commentaire</label>
            <textarea type="text" placeholder="Vous pouvez saisir un commentaire ici. Celui-ci sera visible de tous les participants."  onfocus="this.placeholder = ''" id="commentWiz" name="commentWiz" class="form-control"></textarea>
        </div>
    <div>
    <label class="form-label" th:for="'recipientsCCEmailsWiz' + ${workflow != null ? workflow.id : '0'}">Choisir les observateurs en copie</label>
    <div class="form-group mb-3">
        <select class="select-users" data-es-check-cert="true" th:name="'recipientsCCEmailsWiz' + ${workflow != null ? workflow.id : '0'}" th:id="'recipientsCCEmailsWiz' + ${workflow != null ? workflow.id : '0'}" size="5" multiple="multiple">
            <option data-placeholder="true"></option>
            <th:block th:if="${workflow != null}">
            <th:block th:each="viewer : ${workflow.viewers}">
                <option selected="selected" th:value="${viewer.email}" th:text="${viewer.firstname} + ' ' + ${viewer.name} + ' (' + ${viewer.email} + ')'"></option>
            </th:block>
            </th:block>
        </select>
    </div>
    </div>
    </div>
        <hr>
        <div class="inline-flex">
            <button type="submit" id="fileUploadBtn_old" class="btn btn-success float-end m-1">
                Suivant <i class="fas fa-angle-right"></i>
            </button>
        </div>
    </form>
</div>
</html>