<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (21) on Mon Sep 15 13:02:27 CEST 2025 -->
<title>SignRequestService (esup-signature 1.35.2-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-09-15">
<meta name="description" content="declaration: package: org.esupportail.esupsignature.service, class: SignRequestService">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/SignRequestService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.esupportail.esupsignature.service</a></div>
<h1 title="Class SignRequestService" class="title">Class SignRequestService</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.esupportail.esupsignature.service.SignRequestService</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations">@Service
@EnableConfigurationProperties(<a href="../config/GlobalProperties.html" title="class in org.esupportail.esupsignature.config">GlobalProperties.class</a>)
</span><span class="modifiers">public class </span><span class="element-name type-name-label">SignRequestService</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Service dédié à la gestion des demandes de signature (SignRequest).
 Fournit des méthodes permettant de récupérer, analyser, et modifier les informations
 liées aux demandes de signature, ainsi que de vérifier les droits des utilisateurs sur celles-ci.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>David Lemaignent</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.esupportail.esupsignature.config.GlobalProperties,org.esupportail.esupsignature.config.sign.SignProperties,org.esupportail.esupsignature.service.TargetService,org.esupportail.esupsignature.service.utils.WebUtilsService,org.esupportail.esupsignature.repository.SignRequestRepository,org.esupportail.esupsignature.service.ActionService,org.esupportail.esupsignature.service.utils.pdf.PdfService,org.esupportail.esupsignature.service.DocumentService,org.esupportail.esupsignature.service.utils.metric.CustomMetricsService,org.esupportail.esupsignature.service.utils.sign.SignService,org.esupportail.esupsignature.service.SignTypeService,org.esupportail.esupsignature.service.UserService,org.esupportail.esupsignature.service.DataService,org.esupportail.esupsignature.service.CommentService,org.esupportail.esupsignature.service.mail.MailService,org.esupportail.esupsignature.service.AuditTrailService,org.esupportail.esupsignature.service.UserShareService,org.esupportail.esupsignature.service.RecipientService,org.esupportail.esupsignature.service.interfaces.fs.FsAccessFactoryService,org.esupportail.esupsignature.repository.WsAccessTokenRepository,org.esupportail.esupsignature.service.utils.file.FileService,org.esupportail.esupsignature.service.interfaces.prefill.PreFillService,org.esupportail.esupsignature.service.LogService,org.esupportail.esupsignature.service.SignRequestParamsService,org.esupportail.esupsignature.service.utils.sign.ValidationService,org.esupportail.esupsignature.dss.service.FOPService,com.fasterxml.jackson.databind.ObjectMapper,org.esupportail.esupsignature.repository.SignBookRepository,org.esupportail.esupsignature.repository.NexuSignatureRepository,org.esupportail.esupsignature.repository.CommentRepository)" class="member-name-link">SignRequestService</a><wbr>(<a href="../config/GlobalProperties.html" title="class in org.esupportail.esupsignature.config">GlobalProperties</a>&nbsp;globalProperties,
 <a href="../config/sign/SignProperties.html" title="class in org.esupportail.esupsignature.config.sign">SignProperties</a>&nbsp;signProperties,
 <a href="TargetService.html" title="class in org.esupportail.esupsignature.service">TargetService</a>&nbsp;targetService,
 <a href="utils/WebUtilsService.html" title="class in org.esupportail.esupsignature.service.utils">WebUtilsService</a>&nbsp;webUtilsService,
 <a href="../repository/SignRequestRepository.html" title="interface in org.esupportail.esupsignature.repository">SignRequestRepository</a>&nbsp;signRequestRepository,
 <a href="ActionService.html" title="class in org.esupportail.esupsignature.service">ActionService</a>&nbsp;actionService,
 <a href="utils/pdf/PdfService.html" title="class in org.esupportail.esupsignature.service.utils.pdf">PdfService</a>&nbsp;pdfService,
 <a href="DocumentService.html" title="class in org.esupportail.esupsignature.service">DocumentService</a>&nbsp;documentService,
 <a href="utils/metric/CustomMetricsService.html" title="class in org.esupportail.esupsignature.service.utils.metric">CustomMetricsService</a>&nbsp;customMetricsService,
 <a href="utils/sign/SignService.html" title="class in org.esupportail.esupsignature.service.utils.sign">SignService</a>&nbsp;signService,
 <a href="SignTypeService.html" title="class in org.esupportail.esupsignature.service">SignTypeService</a>&nbsp;signTypeService,
 <a href="UserService.html" title="class in org.esupportail.esupsignature.service">UserService</a>&nbsp;userService,
 <a href="DataService.html" title="class in org.esupportail.esupsignature.service">DataService</a>&nbsp;dataService,
 <a href="CommentService.html" title="class in org.esupportail.esupsignature.service">CommentService</a>&nbsp;commentService,
 <a href="mail/MailService.html" title="class in org.esupportail.esupsignature.service.mail">MailService</a>&nbsp;mailService,
 <a href="AuditTrailService.html" title="class in org.esupportail.esupsignature.service">AuditTrailService</a>&nbsp;auditTrailService,
 <a href="UserShareService.html" title="class in org.esupportail.esupsignature.service">UserShareService</a>&nbsp;userShareService,
 <a href="RecipientService.html" title="class in org.esupportail.esupsignature.service">RecipientService</a>&nbsp;recipientService,
 <a href="interfaces/fs/FsAccessFactoryService.html" title="class in org.esupportail.esupsignature.service.interfaces.fs">FsAccessFactoryService</a>&nbsp;fsAccessFactoryService,
 <a href="../repository/WsAccessTokenRepository.html" title="interface in org.esupportail.esupsignature.repository">WsAccessTokenRepository</a>&nbsp;wsAccessTokenRepository,
 <a href="utils/file/FileService.html" title="class in org.esupportail.esupsignature.service.utils.file">FileService</a>&nbsp;fileService,
 <a href="interfaces/prefill/PreFillService.html" title="class in org.esupportail.esupsignature.service.interfaces.prefill">PreFillService</a>&nbsp;preFillService,
 <a href="LogService.html" title="class in org.esupportail.esupsignature.service">LogService</a>&nbsp;logService,
 <a href="SignRequestParamsService.html" title="class in org.esupportail.esupsignature.service">SignRequestParamsService</a>&nbsp;signRequestParamsService,
 <a href="utils/sign/ValidationService.html" title="class in org.esupportail.esupsignature.service.utils.sign">ValidationService</a>&nbsp;validationService,
 <a href="../dss/service/FOPService.html" title="class in org.esupportail.esupsignature.dss.service">FOPService</a>&nbsp;fopService,
 com.fasterxml.jackson.databind.ObjectMapper&nbsp;objectMapper,
 <a href="../repository/SignBookRepository.html" title="interface in org.esupportail.esupsignature.repository">SignBookRepository</a>&nbsp;signBookRepository,
 <a href="../repository/NexuSignatureRepository.html" title="interface in org.esupportail.esupsignature.repository">NexuSignatureRepository</a>&nbsp;nexuSignatureRepository,
 <a href="../repository/CommentRepository.html" title="interface in org.esupportail.esupsignature.repository">CommentRepository</a>&nbsp;commentRepository)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addAllSignRequestParamsToSignRequest(org.esupportail.esupsignature.entity.SignRequest,java.util.List)" class="member-name-link">addAllSignRequestParamsToSignRequest</a><wbr>(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/SignRequestParams.html" title="class in org.esupportail.esupsignature.entity">SignRequestParams</a>&gt;&nbsp;toAddSignRequestParams)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Ajoute tous les paramètres de demande de signature à une demande de signature existante
 et crée des commentaires liés à chaque paramètre ajouté.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addAttachement(org.springframework.web.multipart.MultipartFile%5B%5D,java.lang.String,java.lang.Long,java.lang.String)" class="member-name-link">addAttachement</a><wbr>(org.springframework.web.multipart.MultipartFile[]&nbsp;multipartFiles,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;link,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Ajoute des pièces jointes à une demande de signature.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addComment(java.lang.Long,java.lang.String,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.String,java.lang.Integer,java.lang.String,java.lang.String,boolean)" class="member-name-link">addComment</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;commentText,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;commentPageNumber,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;commentPosX,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;commentPosY,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;commentWidth,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;commentHeight,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;postit,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;spotStepNumber,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn,
 boolean&nbsp;forceSend)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Ajoute un commentaire ou un emplacement de signature à une demande de signature.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addDocsToSignRequest(org.esupportail.esupsignature.entity.SignRequest,boolean,int,java.util.List,org.springframework.web.multipart.MultipartFile...)" class="member-name-link">addDocsToSignRequest</a><wbr>(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 boolean&nbsp;scanSignatureFields,
 int&nbsp;docNumber,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/SignRequestParams.html" title="class in org.esupportail.esupsignature.entity">SignRequestParams</a>&gt;&nbsp;signRequestParamses,
 org.springframework.web.multipart.MultipartFile...&nbsp;multipartFiles)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Ajoute des documents à une demande de signature.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addPostit(java.lang.Long,java.lang.String,java.lang.String,java.lang.String)" class="member-name-link">addPostit</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signBookId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;comment,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Ajoute un post-it à un SignBook identifié par son identifiant.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#anonymize(java.lang.String,org.esupportail.esupsignature.entity.User)" class="member-name-link">anonymize</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn,
 <a href="../entity/User.html" title="class in org.esupportail.esupsignature.entity">User</a>&nbsp;anonymous)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Anonymise les demandes de signature créées par un utilisateur en remplaçant
 l'utilisateur d'origine par un utilisateur anonyme.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="utils/StepStatus.html" title="enum class in org.esupportail.esupsignature.service.utils">StepStatus</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#applyEndOfSignRules(java.lang.Long,java.lang.String,java.lang.String,org.esupportail.esupsignature.entity.enums.SignType,java.lang.String)" class="member-name-link">applyEndOfSignRules</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn,
 <a href="../entity/enums/SignType.html" title="enum class in org.esupportail.esupsignature.entity.enums">SignType</a>&nbsp;signType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;comment)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Applique les règles de fin de signature pour une demande de signature donnée.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#checkTempUsers(java.lang.Long,java.util.List)" class="member-name-link">checkTempUsers</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../dto/json/RecipientWsDto.html" title="class in org.esupportail.esupsignature.dto.json">RecipientWsDto</a>&gt;&nbsp;recipients)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Vérifie les utilisateurs temporaires associés à un SignBook basé sur son identifiant et une liste de destinataires.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cleanDocuments(org.esupportail.esupsignature.entity.SignRequest,java.lang.String)" class="member-name-link">cleanDocuments</a><wbr>(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cleanSignRequestParams(java.lang.Long)" class="member-name-link">cleanSignRequestParams</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Nettoie les paramètres de requêtes de signature associés à un identifiant donné.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clearAllDocuments(org.esupportail.esupsignature.entity.SignRequest)" class="member-name-link">clearAllDocuments</a><wbr>(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#completeSignRequests(java.util.List,java.lang.String)" class="member-name-link">completeSignRequests</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&gt;&nbsp;signRequests,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Complète les demandes de signature en attribuant le statut "Terminé" si elles ne sont pas refusées.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createSignRequest(java.lang.String,org.esupportail.esupsignature.entity.SignBook,java.lang.String,java.lang.String)" class="member-name-link">createSignRequest</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="../entity/SignBook.html" title="class in org.esupportail.esupsignature.entity">SignBook</a>&nbsp;signBook,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Crée une nouvelle requête de signature et l'associe à un SignBook.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#delete(java.lang.Long,java.lang.String)" class="member-name-link">delete</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Supprime une demande de signature en fonction de son identifiant et de l'utilisateur spécifié.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#deleteDefinitive(java.lang.Long,java.lang.String)" class="member-name-link">deleteDefinitive</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Supprime définitivement une demande de signature ainsi que ses données associées, ses commentaires et ses paramètres,
 tout en effectuant le nettoyage approprié sur les objets liés et en notifiant éventuellement les cibles avec des
 informations mises à jour sur l'état de la suppression.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#deleteNexu(java.lang.Long)" class="member-name-link">deleteNexu</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Supprime les paramètres Nexu et ses signatures associées d'une demande signature.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../entity/SignRequestParams.html" title="class in org.esupportail.esupsignature.entity">SignRequestParams</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#findLastSignRequestParams(java.util.List)" class="member-name-link">findLastSignRequestParams</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/SignRequestParams.html" title="class in org.esupportail.esupsignature.entity">SignRequestParams</a>&gt;&nbsp;signRequestParamses)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Recherche et retourne le dernier objet SignRequestParams dans la liste fournie
 qui satisfait les conditions : le numéro d'image de signature est supérieur ou
 égal à zéro et la partie textuelle est vide ou non définie.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../dss/model/SignatureDocumentForm.html" title="class in org.esupportail.esupsignature.dss.model">SignatureDocumentForm</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAbstractSignatureForm(java.util.List,org.esupportail.esupsignature.entity.SignRequest,boolean)" class="member-name-link">getAbstractSignatureForm</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/Document.html" title="class in org.esupportail.esupsignature.entity">Document</a>&gt;&nbsp;documents,
 <a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 boolean&nbsp;includeDocuments)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Génère et retourne un formulaire de signature DSS pour des documents donnés, en prenant en compte
 les paramètres de signature et d'inclusion des documents.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAllToJSon(java.lang.String)" class="member-name-link">getAllToJSon</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;xApikey)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Récupère et transforme toutes les données disponibles en format JSON en fonction de l'access token fourni.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAttachmentResponse(java.lang.Long,java.lang.Long,jakarta.servlet.http.HttpServletResponse)" class="member-name-link">getAttachmentResponse</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;attachementId,
 jakarta.servlet.http.HttpServletResponse&nbsp;httpServletResponse)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Récupère une pièce jointe associée à une requête de signature et écrit son contenu dans la réponse HTTP.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../entity/Document.html" title="class in org.esupportail.esupsignature.entity">Document</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAttachments(java.lang.Long)" class="member-name-link">getAttachments</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Récupère la liste des pièces jointes associées à une demande de signature donnée.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAuditTrailJson(java.lang.Long)" class="member-name-link">getAuditTrailJson</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Récupère le dossier de preuve sous forme de chaîne JSON pour une demande de signature donnée.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getById(long)" class="member-name-link">getById</a><wbr>(long&nbsp;id)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Récupère une instance de SignRequest en fonction de son identifiant unique.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getByIdAndRecipient(java.lang.Long,java.lang.String)" class="member-name-link">getByIdAndRecipient</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Récupère une liste de demandes de signature associées à un ID spécifique et un destinataire donné.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../entity/Comment.html" title="class in org.esupportail.esupsignature.entity">Comment</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getComments(java.lang.Long)" class="member-name-link">getComments</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Récupère la liste des commentaires associés à une demande de signature,
 en excluant les commentaires type "post-it" et ceux ayant un numéro d'étape.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../dto/json/RecipientWsDto.html" title="class in org.esupportail.esupsignature.dto.json">RecipientWsDto</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getExternalRecipients(java.lang.Long)" class="member-name-link">getExternalRecipients</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Récupère les destinataires externes associés à une requête de signature.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getFileResponse(java.lang.Long,jakarta.servlet.http.HttpServletResponse)" class="member-name-link">getFileResponse</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;documentId,
 jakarta.servlet.http.HttpServletResponse&nbsp;httpServletResponse)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Fournit document donné via son id.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getJson(java.lang.Long)" class="member-name-link">getJson</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Récupère une représentation JSON d'une entité SignRequest à partir de son identifiant.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="interfaces/fs/FsFile.html" title="class in org.esupportail.esupsignature.service.interfaces.fs">FsFile</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLastSignedFsFile(org.esupportail.esupsignature.entity.SignRequest)" class="member-name-link">getLastSignedFsFile</a><wbr>(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Récupère le dernier fichier signé dans le cadre d'une demande de signature.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getNbDraftSignRequests(java.lang.String)" class="member-name-link">getNbDraftSignRequests</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Renvoie le nombre de demandes de signature ayant le statut "brouillon" pour un utilisateur donné.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getNbPendingSignRequests(java.lang.String)" class="member-name-link">getNbPendingSignRequests</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retourne le nombre de demandes de signature en attente pour un utilisateur donné.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getOriginalFileResponse(java.lang.Long,jakarta.servlet.http.HttpServletResponse)" class="member-name-link">getOriginalFileResponse</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 jakarta.servlet.http.HttpServletResponse&nbsp;httpServletResponse)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Fournit le fichier original associé à une requête de signature donnée.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getParentIdIfSignRequestUnique(java.lang.Long)" class="member-name-link">getParentIdIfSignRequestUnique</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Récupère l'identifiant du parent d'une requête de signature si elle est unique dans son SignBook parent.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../entity/Comment.html" title="class in org.esupportail.esupsignature.entity">Comment</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPostits(java.lang.Long)" class="member-name-link">getPostits</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Récupère une liste de commentaires de type Post-it pour un SignRequest donné.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRecipientNotPresentSignRequests(java.lang.String)" class="member-name-link">getRecipientNotPresentSignRequests</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;eppn)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Récupère une liste de demandes de signature pour lesquelles le destinataire n'est pas présent
 dans le système de gestion d'annuaire (LDAP) ou possède un type d'utilisateur externe ou Shibboleth.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSignedFileAndReportResponse(java.lang.Long,jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse,boolean)" class="member-name-link">getSignedFileAndReportResponse</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 jakarta.servlet.http.HttpServletRequest&nbsp;httpServletRequest,
 jakarta.servlet.http.HttpServletResponse&nbsp;httpServletResponse,
 boolean&nbsp;force)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Fournit un fichier signé accompagné de son rapport.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a><wbr>&lt;<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSignRequestByToken(java.lang.String)" class="member-name-link">getSignRequestByToken</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;token)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Récupère une demande de signature en fonction de son token.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../entity/Comment.html" title="class in org.esupportail.esupsignature.entity">Comment</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSpots(java.lang.Long)" class="member-name-link">getSpots</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Récupère une liste d'emplacements associés à l'identifiant spécifié,
 en filtrant ceux qui possèdent un numéro d'étape défini.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getStatus(long)" class="member-name-link">getStatus</a><wbr>(long&nbsp;id)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Récupère le statut associé à l'identifiant donné.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../dto/json/SignRequestStepsDto.html" title="class in org.esupportail.esupsignature.dto.json">SignRequestStepsDto</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getStepsDto(java.lang.Long)" class="member-name-link">getStepsDto</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Récupère une liste des étapes d'une demande de signature sous forme d'objets SignRequestStepsDto.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../entity/Document.html" title="class in org.esupportail.esupsignature.entity">Document</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getToSignDocuments(java.lang.Long)" class="member-name-link">getToSignDocuments</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Récupère la liste des documents à signer ou signés associés à une demande de signature.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getToSignFileResponse(java.lang.Long,java.lang.String,jakarta.servlet.http.HttpServletResponse,boolean)" class="member-name-link">getToSignFileResponse</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;disposition,
 jakarta.servlet.http.HttpServletResponse&nbsp;httpServletResponse,
 boolean&nbsp;force)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Fournit un fichier à signer, en fonction de l'état de la requête de signature et des paramètres fournis.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getToSignFileResponseWithCode(java.lang.Long,jakarta.servlet.http.HttpServletResponse)" class="member-name-link">getToSignFileResponseWithCode</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 jakarta.servlet.http.HttpServletResponse&nbsp;httpServletResponse)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Génère une réponse contenant un document prêt à être signé, ou un fichier signé avec un QR code,
 et l'écrit dans la réponse HTTP fournie.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getToSignRequests(java.lang.String)" class="member-name-link">getToSignRequests</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Récupère la liste des demandes de signature à signer pour un utilisateur donné.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../entity/SignRequestParams.html" title="class in org.esupportail.esupsignature.entity">SignRequestParams</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getToUseSignRequestParams(java.lang.Long,java.lang.String)" class="member-name-link">getToUseSignRequestParams</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retourne une liste de paramètres de demande de signature pour l'utilisateur spécifié et l'identifiant donné.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getToValidateFile(long)" class="member-name-link">getToValidateFile</a><wbr>(long&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Récupère un fichier à valider associé à une demande de signature.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>byte[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getZipWithDocAndReport(org.esupportail.esupsignature.entity.SignRequest,jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse)" class="member-name-link">getZipWithDocAndReport</a><wbr>(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 jakarta.servlet.http.HttpServletRequest&nbsp;httpServletRequest,
 jakarta.servlet.http.HttpServletResponse&nbsp;httpServletResponse)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Génère et retourne un fichier ZIP contenant les documents et un rapport associés à une demande de signature.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#initSignrequestMetrics()" class="member-name-link">initSignrequestMetrics</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isAttachmentAlert(org.esupportail.esupsignature.entity.SignRequest)" class="member-name-link">isAttachmentAlert</a><wbr>(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Vérifie si une alerte de pièce jointe doit être déclenchée pour une demande de signature donnée.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isAttachmentRequire(org.esupportail.esupsignature.entity.SignRequest)" class="member-name-link">isAttachmentRequire</a><wbr>(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Vérifie si une pièce jointe est requise pour une demande de signature donnée.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isCurrentStepCompleted(org.esupportail.esupsignature.entity.SignRequest)" class="member-name-link">isCurrentStepCompleted</a><wbr>(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Vérifie si l'étape actuelle de la demande de signature est terminée.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isCurrentUserAsSigned(org.esupportail.esupsignature.entity.SignRequest,java.lang.String)" class="member-name-link">isCurrentUserAsSigned</a><wbr>(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Vérifie si l'utilisateur actuel a signé la demande de signature.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isDeletetable(org.esupportail.esupsignature.entity.SignRequest,java.lang.String)" class="member-name-link">isDeletetable</a><wbr>(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Vérifie si une demande de signature peut être supprimée.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isDisplayNotif(org.esupportail.esupsignature.entity.SignRequest,java.lang.String)" class="member-name-link">isDisplayNotif</a><wbr>(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Détermine si une notification doit être affichée pour une demande de signature donnée
 et un utilisateur spécifique.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isEditable(long,java.lang.String)" class="member-name-link">isEditable</a><wbr>(long&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Détermine si une requête de signature est éditable par l'utilisateur spécifié.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isMoreWorkflowStep(org.esupportail.esupsignature.entity.SignBook)" class="member-name-link">isMoreWorkflowStep</a><wbr>(<a href="../entity/SignBook.html" title="class in org.esupportail.esupsignature.entity">SignBook</a>&nbsp;signBook)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Vérifie si le SignBook possède davantage d'étapes dans le workflow actuel.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isSigned(org.esupportail.esupsignature.entity.SignBook,eu.europa.esig.dss.validation.reports.Reports)" class="member-name-link">isSigned</a><wbr>(<a href="../entity/SignBook.html" title="class in org.esupportail.esupsignature.entity">SignBook</a>&nbsp;signBook,
 eu.europa.esig.dss.validation.reports.Reports&nbsp;reports)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Vérifie si un document dans un classeur de signatures est signé.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isSigned(org.esupportail.esupsignature.entity.SignRequest,eu.europa.esig.dss.validation.reports.Reports)" class="member-name-link">isSigned</a><wbr>(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 eu.europa.esig.dss.validation.reports.Reports&nbsp;reports)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Vérifie si une demande de signature est signée en fonction des rapports et
 des documents associés.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isUserInRecipients(org.esupportail.esupsignature.entity.SignRequest,java.lang.String)" class="member-name-link">isUserInRecipients</a><wbr>(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Vérifie si un utilisateur est présent dans la liste des destinataires d'une demande de signature.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#nbFollowedByMe(java.lang.String)" class="member-name-link">nbFollowedByMe</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retourne le nombre de SignBooks suivis par un utilisateur spécifique.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#nextWorkFlowStep(org.esupportail.esupsignature.entity.SignBook)" class="member-name-link">nextWorkFlowStep</a><wbr>(<a href="../entity/SignBook.html" title="class in org.esupportail.esupsignature.entity">SignBook</a>&nbsp;signBook)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Avance à l'étape suivante du flux de travail pour un SignBook donné, si des étapes supplémentaires existent.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#pendingSignRequest(org.esupportail.esupsignature.entity.SignRequest,java.lang.String)" class="member-name-link">pendingSignRequest</a><wbr>(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Met à jour une demande de signature en la définissant comme en attente de signature.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../entity/Field.html" title="class in org.esupportail.esupsignature.entity">Field</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#prefillSignRequestFields(java.lang.Long,java.lang.String)" class="member-name-link">prefillSignRequestFields</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Pré-remplit les champs d'une demande de signature en fonction des données disponibles,
 du formulaire associé et des étapes du workflow actives.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeAttachement(java.lang.Long,java.lang.Long,org.springframework.web.servlet.mvc.support.RedirectAttributes)" class="member-name-link">removeAttachement</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;attachementId,
 org.springframework.web.servlet.mvc.support.RedirectAttributes&nbsp;redirectAttributes)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Supprime une pièce jointe associée à une demande de signature.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeLink(java.lang.Long,java.lang.Integer)" class="member-name-link">removeLink</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;linkId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Supprime un lien spécifique d'une requête de signature donnée.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#replayNotif(java.lang.Long,java.lang.String)" class="member-name-link">replayNotif</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Relance une notification pour une demande de signature si les conditions sont remplies.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#seal(java.lang.Long)" class="member-name-link">seal</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Scelle une demande de signature en utilisant un certificat de sceau.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="utils/StepStatus.html" title="enum class in org.esupportail.esupsignature.service.utils">StepStatus</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sign(org.esupportail.esupsignature.entity.SignRequest,java.lang.String,java.lang.String,java.util.List,org.esupportail.esupsignature.entity.Data,java.util.Map,java.lang.String,java.lang.String,java.lang.Long,java.lang.String)" class="member-name-link">sign</a><wbr>(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;password,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;signWith,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/SignRequestParams.html" title="class in org.esupportail.esupsignature.entity">SignRequestParams</a>&gt;&nbsp;signRequestParamses,
 <a href="../entity/Data.html" title="class in org.esupportail.esupsignature.entity">Data</a>&nbsp;data,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;formDataMap,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;userShareId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;comment)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Signe une requête de signature en tenant compte de divers paramètres tels que l'utilisateur,
 les documents à signer, et les informations de formulaire.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>byte[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#stampImagesOnFirstSign(org.esupportail.esupsignature.entity.SignRequest,java.util.List,java.lang.String,java.lang.String,byte%5B%5D,java.util.Date,java.util.List,org.esupportail.esupsignature.entity.SignRequestParams)" class="member-name-link">stampImagesOnFirstSign</a><wbr>(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/SignRequestParams.html" title="class in org.esupportail.esupsignature.entity">SignRequestParams</a>&gt;&nbsp;signRequestParamses,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn,
 byte[]&nbsp;filledInputStream,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html" title="class or interface in java.util" class="external-link">Date</a>&nbsp;date,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/Log.html" title="class in org.esupportail.esupsignature.entity">Log</a>&gt;&nbsp;lastSignLogs,
 <a href="../entity/SignRequestParams.html" title="class in org.esupportail.esupsignature.entity">SignRequestParams</a>&nbsp;lastSignRequestParams)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Ajoute des images aux emplacements spécifiés lors de la première signature d'une demande.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../entity/Log.html" title="class in org.esupportail.esupsignature.entity">Log</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateStatus(java.lang.Long,org.esupportail.esupsignature.entity.enums.SignRequestStatus,java.lang.String,java.lang.String,java.lang.String,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.String,java.lang.String)" class="member-name-link">updateStatus</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 <a href="../entity/enums/SignRequestStatus.html" title="enum class in org.esupportail.esupsignature.entity.enums">SignRequestStatus</a>&nbsp;signRequestStatus,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;action,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;comment,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;returnCode,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;pageNumber,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;posX,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;posY,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;stepNumber,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Met à jour le statut d'une demande de signature et crée un log associé.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>eu.europa.esig.dss.validation.reports.Reports</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#validate(long)" class="member-name-link">validate</a><wbr>(long&nbsp;signRequestId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Validation DSS d'une requête de signature en fonction de son identifiant.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#viewedBy(java.lang.Long,java.lang.String)" class="member-name-link">viewedBy</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Marque une demande de signature comme "vue" par un utilisateur spécifique.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#warningReaded(java.lang.String)" class="member-name-link">warningReaded</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Marque les avertissements de requêtes de signature comme lus pour un utilisateur authentifié.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.esupportail.esupsignature.config.GlobalProperties,org.esupportail.esupsignature.config.sign.SignProperties,org.esupportail.esupsignature.service.TargetService,org.esupportail.esupsignature.service.utils.WebUtilsService,org.esupportail.esupsignature.repository.SignRequestRepository,org.esupportail.esupsignature.service.ActionService,org.esupportail.esupsignature.service.utils.pdf.PdfService,org.esupportail.esupsignature.service.DocumentService,org.esupportail.esupsignature.service.utils.metric.CustomMetricsService,org.esupportail.esupsignature.service.utils.sign.SignService,org.esupportail.esupsignature.service.SignTypeService,org.esupportail.esupsignature.service.UserService,org.esupportail.esupsignature.service.DataService,org.esupportail.esupsignature.service.CommentService,org.esupportail.esupsignature.service.mail.MailService,org.esupportail.esupsignature.service.AuditTrailService,org.esupportail.esupsignature.service.UserShareService,org.esupportail.esupsignature.service.RecipientService,org.esupportail.esupsignature.service.interfaces.fs.FsAccessFactoryService,org.esupportail.esupsignature.repository.WsAccessTokenRepository,org.esupportail.esupsignature.service.utils.file.FileService,org.esupportail.esupsignature.service.interfaces.prefill.PreFillService,org.esupportail.esupsignature.service.LogService,org.esupportail.esupsignature.service.SignRequestParamsService,org.esupportail.esupsignature.service.utils.sign.ValidationService,org.esupportail.esupsignature.dss.service.FOPService,com.fasterxml.jackson.databind.ObjectMapper,org.esupportail.esupsignature.repository.SignBookRepository,org.esupportail.esupsignature.repository.NexuSignatureRepository,org.esupportail.esupsignature.repository.CommentRepository)">
<h3>SignRequestService</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">SignRequestService</span><wbr><span class="parameters">(<a href="../config/GlobalProperties.html" title="class in org.esupportail.esupsignature.config">GlobalProperties</a>&nbsp;globalProperties,
 <a href="../config/sign/SignProperties.html" title="class in org.esupportail.esupsignature.config.sign">SignProperties</a>&nbsp;signProperties,
 <a href="TargetService.html" title="class in org.esupportail.esupsignature.service">TargetService</a>&nbsp;targetService,
 <a href="utils/WebUtilsService.html" title="class in org.esupportail.esupsignature.service.utils">WebUtilsService</a>&nbsp;webUtilsService,
 <a href="../repository/SignRequestRepository.html" title="interface in org.esupportail.esupsignature.repository">SignRequestRepository</a>&nbsp;signRequestRepository,
 <a href="ActionService.html" title="class in org.esupportail.esupsignature.service">ActionService</a>&nbsp;actionService,
 <a href="utils/pdf/PdfService.html" title="class in org.esupportail.esupsignature.service.utils.pdf">PdfService</a>&nbsp;pdfService,
 <a href="DocumentService.html" title="class in org.esupportail.esupsignature.service">DocumentService</a>&nbsp;documentService,
 <a href="utils/metric/CustomMetricsService.html" title="class in org.esupportail.esupsignature.service.utils.metric">CustomMetricsService</a>&nbsp;customMetricsService,
 <a href="utils/sign/SignService.html" title="class in org.esupportail.esupsignature.service.utils.sign">SignService</a>&nbsp;signService,
 <a href="SignTypeService.html" title="class in org.esupportail.esupsignature.service">SignTypeService</a>&nbsp;signTypeService,
 <a href="UserService.html" title="class in org.esupportail.esupsignature.service">UserService</a>&nbsp;userService,
 <a href="DataService.html" title="class in org.esupportail.esupsignature.service">DataService</a>&nbsp;dataService,
 <a href="CommentService.html" title="class in org.esupportail.esupsignature.service">CommentService</a>&nbsp;commentService,
 <a href="mail/MailService.html" title="class in org.esupportail.esupsignature.service.mail">MailService</a>&nbsp;mailService,
 <a href="AuditTrailService.html" title="class in org.esupportail.esupsignature.service">AuditTrailService</a>&nbsp;auditTrailService,
 <a href="UserShareService.html" title="class in org.esupportail.esupsignature.service">UserShareService</a>&nbsp;userShareService,
 <a href="RecipientService.html" title="class in org.esupportail.esupsignature.service">RecipientService</a>&nbsp;recipientService,
 <a href="interfaces/fs/FsAccessFactoryService.html" title="class in org.esupportail.esupsignature.service.interfaces.fs">FsAccessFactoryService</a>&nbsp;fsAccessFactoryService,
 <a href="../repository/WsAccessTokenRepository.html" title="interface in org.esupportail.esupsignature.repository">WsAccessTokenRepository</a>&nbsp;wsAccessTokenRepository,
 <a href="utils/file/FileService.html" title="class in org.esupportail.esupsignature.service.utils.file">FileService</a>&nbsp;fileService,
 <a href="interfaces/prefill/PreFillService.html" title="class in org.esupportail.esupsignature.service.interfaces.prefill">PreFillService</a>&nbsp;preFillService,
 <a href="LogService.html" title="class in org.esupportail.esupsignature.service">LogService</a>&nbsp;logService,
 <a href="SignRequestParamsService.html" title="class in org.esupportail.esupsignature.service">SignRequestParamsService</a>&nbsp;signRequestParamsService,
 <a href="utils/sign/ValidationService.html" title="class in org.esupportail.esupsignature.service.utils.sign">ValidationService</a>&nbsp;validationService,
 <a href="../dss/service/FOPService.html" title="class in org.esupportail.esupsignature.dss.service">FOPService</a>&nbsp;fopService,
 com.fasterxml.jackson.databind.ObjectMapper&nbsp;objectMapper,
 <a href="../repository/SignBookRepository.html" title="interface in org.esupportail.esupsignature.repository">SignBookRepository</a>&nbsp;signBookRepository,
 <a href="../repository/NexuSignatureRepository.html" title="interface in org.esupportail.esupsignature.repository">NexuSignatureRepository</a>&nbsp;nexuSignatureRepository,
 <a href="../repository/CommentRepository.html" title="interface in org.esupportail.esupsignature.repository">CommentRepository</a>&nbsp;commentRepository)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="initSignrequestMetrics()">
<h3>initSignrequestMetrics</h3>
<div class="member-signature"><span class="annotations">@PostConstruct
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">initSignrequestMetrics</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getById(long)">
<h3>getById</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a></span>&nbsp;<span class="element-name">getById</span><wbr><span class="parameters">(long&nbsp;id)</span></div>
<div class="block">Récupère une instance de SignRequest en fonction de son identifiant unique.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - l'identifiant unique de la demande de signature à récupérer</dd>
<dt>Returns:</dt>
<dd>l'objet SignRequest correspondant à l'identifiant spécifié,
         ou null si aucun objet n'est trouvé</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getStatus(long)">
<h3>getStatus</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getStatus</span><wbr><span class="parameters">(long&nbsp;id)</span></div>
<div class="block">Récupère le statut associé à l'identifiant donné.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - l'identifiant du SignRequest ou des Logs associés</dd>
<dt>Returns:</dt>
<dd>une chaîne de caractères représentant le statut du SignRequest si trouvé,
         "fully-deleted" si des Logs existent pour cet identifiant mais aucun SignRequest correspondant,
         ou null si rien n'est trouvé</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSignRequestByToken(java.lang.String)">
<h3>getSignRequestByToken</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&gt;</span>&nbsp;<span class="element-name">getSignRequestByToken</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;token)</span></div>
<div class="block">Récupère une demande de signature en fonction de son token.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>token</code> - le token utilisé pour rechercher une demande de signature</dd>
<dt>Returns:</dt>
<dd>un objet Optional contenant la demande de signature si elle existe, sinon un Optional vide</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isEditable(long,java.lang.String)">
<h3>isEditable</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isEditable</span><wbr><span class="parameters">(long&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</span></div>
<div class="block">Détermine si une requête de signature est éditable par l'utilisateur spécifié.

 Une requête de signature est considérée comme éditable si elle respecte les critères suivants :
 1. Elle n'est pas supprimée, a un statut "pending" (en attente), et :
    - L'utilisateur n'est pas de type "externe" ou,
    - Le workflow associé permet l'édition pour les utilisateurs externes ou,
    - Si aucun workflow n'est défini, les propriétés globales permettent l'édition pour les utilisateurs externes.
 2. L'utilisateur est impliqué dans les destinataires, ou a créé la requête, ou est un viewer du dossier de signatures.
 3. Alternativement, une requête en statut "draft" (brouillon) est éditable par son créateur.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - Identifiant unique de la requête de signature à vérifier.</dd>
<dd><code>userEppn</code> - Identifiant eppn de l'utilisateur pour lequel vérifier les droits d'édition.</dd>
<dt>Returns:</dt>
<dd>true si la requête est éditable par l'utilisateur, false sinon.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isUserInRecipients(org.esupportail.esupsignature.entity.SignRequest,java.lang.String)">
<h3>isUserInRecipients</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isUserInRecipients</span><wbr><span class="parameters">(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</span></div>
<div class="block">Vérifie si un utilisateur est présent dans la liste des destinataires d'une demande de signature.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequest</code> - l'objet SignRequest représentant la demande de signature</dd>
<dd><code>userEppn</code> - l'identifiant EPPN de l'utilisateur à vérifier</dd>
<dt>Returns:</dt>
<dd>true si l'utilisateur est présent dans la liste des destinataires, sinon false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getToSignDocuments(java.lang.Long)">
<h3>getToSignDocuments</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/Document.html" title="class in org.esupportail.esupsignature.entity">Document</a>&gt;</span>&nbsp;<span class="element-name">getToSignDocuments</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId)</span></div>
<div class="block">Récupère la liste des documents à signer ou signés associés à une demande de signature.
 Si des documents signés existent, retourne le dernier document signé.
 Sinon, retourne tous les documents originaux de la demande.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequestId</code> - l'identifiant de la demande de signature</dd>
<dt>Returns:</dt>
<dd>une liste des documents à signer ou déjà signés</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sign(org.esupportail.esupsignature.entity.SignRequest,java.lang.String,java.lang.String,java.util.List,org.esupportail.esupsignature.entity.Data,java.util.Map,java.lang.String,java.lang.String,java.lang.Long,java.lang.String)">
<h3>sign</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="utils/StepStatus.html" title="enum class in org.esupportail.esupsignature.service.utils">StepStatus</a></span>&nbsp;<span class="element-name">sign</span><wbr><span class="parameters">(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;password,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;signWith,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/SignRequestParams.html" title="class in org.esupportail.esupsignature.entity">SignRequestParams</a>&gt;&nbsp;signRequestParamses,
 <a href="../entity/Data.html" title="class in org.esupportail.esupsignature.entity">Data</a>&nbsp;data,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;formDataMap,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;userShareId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;comment)</span>
                throws <span class="exceptions"><a href="../exception/EsupSignatureRuntimeException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureRuntimeException</a>,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Signe une requête de signature en tenant compte de divers paramètres tels que l'utilisateur,
 les documents à signer, et les informations de formulaire.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequest</code> - L'objet représentant la requête de signature à traiter.</dd>
<dd><code>password</code> - Le mot de passe de l'utilisateur nécessaire pour effectuer la signature.</dd>
<dd><code>signWith</code> - Le type d'élément utilisé pour effectuer la signature (image, certificat, etc.).</dd>
<dd><code>signRequestParamses</code> - La liste des paramètres de signature spécifiant les détails de l'application de chaque signature (page, position, etc.).</dd>
<dd><code>data</code> - Les données associées à la signature, incluant des informations de formulaire.</dd>
<dd><code>formDataMap</code> - Une carte représentant les données des champs de formulaire à remplir ou à valider.</dd>
<dd><code>userEppn</code> - L'identifiant de l'utilisateur effectuant la signature.</dd>
<dd><code>authUserEppn</code> - L'identifiant de l'utilisateur authentifié utilisé pour des cas spécifiques de délégation ou de partage.</dd>
<dd><code>userShareId</code> - L'identifiant d'un partage utilisateur si applicable, pour déterminer si une délégation est utilisée.</dd>
<dd><code>comment</code> - Un commentaire libre que l'utilisateur peut ajouter à l'action de signature.</dd>
<dt>Returns:</dt>
<dd>Le statut de l'étape courante après la signature, incluant des informations sur l'état de la progression dans le processus.</dd>
<dt>Throws:</dt>
<dd><code><a href="../exception/EsupSignatureRuntimeException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureRuntimeException</a></code> - En cas d'erreur critique lors de la signature ou de la génération de métadonnées.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - En cas de problème lors de la lecture ou de l'écriture de contenu lié aux documents.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="findLastSignRequestParams(java.util.List)">
<h3>findLastSignRequestParams</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../entity/SignRequestParams.html" title="class in org.esupportail.esupsignature.entity">SignRequestParams</a></span>&nbsp;<span class="element-name">findLastSignRequestParams</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/SignRequestParams.html" title="class in org.esupportail.esupsignature.entity">SignRequestParams</a>&gt;&nbsp;signRequestParamses)</span></div>
<div class="block">Recherche et retourne le dernier objet SignRequestParams dans la liste fournie
 qui satisfait les conditions : le numéro d'image de signature est supérieur ou
 égal à zéro et la partie textuelle est vide ou non définie.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequestParamses</code> - la liste des objets SignRequestParams à analyser</dd>
<dt>Returns:</dt>
<dd>le dernier objet SignRequestParams répondant aux critères ou null si aucun n'est trouvé</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="stampImagesOnFirstSign(org.esupportail.esupsignature.entity.SignRequest,java.util.List,java.lang.String,java.lang.String,byte[],java.util.Date,java.util.List,org.esupportail.esupsignature.entity.SignRequestParams)">
<h3>stampImagesOnFirstSign</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">byte[]</span>&nbsp;<span class="element-name">stampImagesOnFirstSign</span><wbr><span class="parameters">(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/SignRequestParams.html" title="class in org.esupportail.esupsignature.entity">SignRequestParams</a>&gt;&nbsp;signRequestParamses,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn,
 byte[]&nbsp;filledInputStream,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html" title="class or interface in java.util" class="external-link">Date</a>&nbsp;date,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/Log.html" title="class in org.esupportail.esupsignature.entity">Log</a>&gt;&nbsp;lastSignLogs,
 <a href="../entity/SignRequestParams.html" title="class in org.esupportail.esupsignature.entity">SignRequestParams</a>&nbsp;lastSignRequestParams)</span></div>
<div class="block">Ajoute des images aux emplacements spécifiés lors de la première signature d'une demande.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequest</code> - La demande de signature contenant les informations nécessaires au processus.</dd>
<dd><code>signRequestParamses</code> - Liste des paramètres de signature définissant les emplacements et options des signatures.</dd>
<dd><code>userEppn</code> - L'identifiant eppn de l'utilisateur effectuant la demande de signature.</dd>
<dd><code>authUserEppn</code> - L'identifiant eppn de l'utilisateur authentifié actuellement.</dd>
<dd><code>filledInputStream</code> - Le tableau d'octets représentant le flux PDF déjà rempli et modifiable.</dd>
<dd><code>date</code> - La date actuelle pour l'horodatage du processus de signature.</dd>
<dd><code>lastSignLogs</code> - Liste des journaux des opérations de signature précédentes, si disponible.</dd>
<dd><code>lastSignRequestParams</code> - Le dernier paramètre de signature utilisé dans le processus, permettant d'éviter des doublons.</dd>
<dt>Returns:</dt>
<dd>Le flux PDF représenté comme un tableau d'octets, contenant les images supplémentaires insérées.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="applyEndOfSignRules(java.lang.Long,java.lang.String,java.lang.String,org.esupportail.esupsignature.entity.enums.SignType,java.lang.String)">
<h3>applyEndOfSignRules</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="utils/StepStatus.html" title="enum class in org.esupportail.esupsignature.service.utils">StepStatus</a></span>&nbsp;<span class="element-name">applyEndOfSignRules</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn,
 <a href="../entity/enums/SignType.html" title="enum class in org.esupportail.esupsignature.entity.enums">SignType</a>&nbsp;signType,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;comment)</span>
                               throws <span class="exceptions"><a href="../exception/EsupSignatureRuntimeException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureRuntimeException</a></span></div>
<div class="block">Applique les règles de fin de signature pour une demande de signature donnée. La méthode gère les mises à jour
 des statuts de la requête, les commentaires, la validation des destinataires, ainsi que les étapes du flux de travail.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequestId</code> - Identifiant de la requête de signature à traiter.</dd>
<dd><code>userEppn</code> - EPPN (eduPersonPrincipalName) de l'utilisateur effectuant l'action.</dd>
<dd><code>authUserEppn</code> - EPPN de l'utilisateur authentifié.</dd>
<dd><code>signType</code> - Type de signature (Visa, Signature, etc.).</dd>
<dd><code>comment</code> - Commentaire à ajouter à la requête de signature.</dd>
<dt>Returns:</dt>
<dd>Le statut final de l'étape (StepStatus) après application des règles : completed, last_end ou not_completed.</dd>
<dt>Throws:</dt>
<dd><code><a href="../exception/EsupSignatureRuntimeException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureRuntimeException</a></code> - Exception levée en cas d'erreur pendant le traitement.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="seal(java.lang.Long)">
<h3>seal</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">seal</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId)</span>
          throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Scelle une demande de signature en utilisant un certificat de sceau.
 Cette méthode récupère les documents à signer, génère le formulaire de signature,
 utilise le service de signature pour ajouter une signature certifiée, puis
 met à jour la liste des documents signés en supprimant les dernières entrées si nécessaire
 et en ajoutant le document nouvellement signé.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequestId</code> - L'identifiant unique de la demande de signature à sceller.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - Si une erreur d'entrée/sortie se produit lors du processus de scellage.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="nbFollowedByMe(java.lang.String)">
<h3>nbFollowedByMe</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></span>&nbsp;<span class="element-name">nbFollowedByMe</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</span></div>
<div class="block">Retourne le nombre de SignBooks suivis par un utilisateur spécifique.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>userEppn</code> - l'identifiant unique de l'utilisateur (EPPN) pour lequel le compte des SignBooks suivis est calculé.</dd>
<dt>Returns:</dt>
<dd>le nombre total de SignBooks où l'utilisateur identifié par userEppn est un spectateur.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getToSignRequests(java.lang.String)">
<h3>getToSignRequests</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&gt;</span>&nbsp;<span class="element-name">getToSignRequests</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</span></div>
<div class="block">Récupère la liste des demandes de signature à signer pour un utilisateur donné.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>userEppn</code> - l'identifiant unique (EPPN) de l'utilisateur pour lequel les demandes de signature doivent être récupérées</dd>
<dt>Returns:</dt>
<dd>une liste de SignRequest contenant toutes les demandes de signature à signer, triées par date de création dans un ordre décroissant</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createSignRequest(java.lang.String,org.esupportail.esupsignature.entity.SignBook,java.lang.String,java.lang.String)">
<h3>createSignRequest</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a></span>&nbsp;<span class="element-name">createSignRequest</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="../entity/SignBook.html" title="class in org.esupportail.esupsignature.entity">SignBook</a>&nbsp;signBook,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn)</span></div>
<div class="block">Crée une nouvelle requête de signature et l'associe à un SignBook.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - le nom de la requête de signature. Peut être nul ou vide, auquel cas un nom généré automatiquement sera utilisé.</dd>
<dd><code>signBook</code> - l'objet SignBook auquel la requête de signature doit être associée.</dd>
<dd><code>userEppn</code> - l'identifiant unique EPPN de l'utilisateur créant la requête.</dd>
<dd><code>authUserEppn</code> - l'identifiant unique EPPN de l'utilisateur authentifié.</dd>
<dt>Returns:</dt>
<dd>Une instance de SignRequest représentant la nouvelle requête de signature créée.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addDocsToSignRequest(org.esupportail.esupsignature.entity.SignRequest,boolean,int,java.util.List,org.springframework.web.multipart.MultipartFile...)">
<h3>addDocsToSignRequest</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addDocsToSignRequest</span><wbr><span class="parameters">(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 boolean&nbsp;scanSignatureFields,
 int&nbsp;docNumber,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/SignRequestParams.html" title="class in org.esupportail.esupsignature.entity">SignRequestParams</a>&gt;&nbsp;signRequestParamses,
 org.springframework.web.multipart.MultipartFile...&nbsp;multipartFiles)</span>
                          throws <span class="exceptions"><a href="../exception/EsupSignatureIOException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureIOException</a></span></div>
<div class="block">Ajoute des documents à une demande de signature.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequest</code> - La demande de signature à laquelle les documents doivent être ajoutés.</dd>
<dd><code>scanSignatureFields</code> - Indique si les champs de signature doivent être scannés dans le document.</dd>
<dd><code>docNumber</code> - Numéro de document pour l'indexation.</dd>
<dd><code>signRequestParamses</code> - Liste des paramètres de champ de signature.</dd>
<dd><code>multipartFiles</code> - Liste des fichiers à ajouter sous forme de fichiers multipart.</dd>
<dt>Throws:</dt>
<dd><code><a href="../exception/EsupSignatureIOException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureIOException</a></code> - Si une erreur survient lors de l'ajout ou de la conversion des fichiers.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addAllSignRequestParamsToSignRequest(org.esupportail.esupsignature.entity.SignRequest,java.util.List)">
<h3>addAllSignRequestParamsToSignRequest</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addAllSignRequestParamsToSignRequest</span><wbr><span class="parameters">(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/SignRequestParams.html" title="class in org.esupportail.esupsignature.entity">SignRequestParams</a>&gt;&nbsp;toAddSignRequestParams)</span></div>
<div class="block">Ajoute tous les paramètres de demande de signature à une demande de signature existante
 et crée des commentaires liés à chaque paramètre ajouté.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequest</code> - L'objet SignRequest auquel les paramètres doivent être ajoutés.</dd>
<dd><code>toAddSignRequestParams</code> - La liste des objets SignRequestParams qui seront ajoutés au SignRequest.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="pendingSignRequest(org.esupportail.esupsignature.entity.SignRequest,java.lang.String)">
<h3>pendingSignRequest</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">pendingSignRequest</span><wbr><span class="parameters">(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn)</span></div>
<div class="block">Met à jour une demande de signature en la définissant comme en attente de signature.
 Affecte une action vide à chaque destinataire de l'étape courante.
 Vérifie le type de signature et ajuste si nécessaire pour inclure la signature visible.
 Met également à jour le statut de la demande et enregistre une métrique personnalisée.
 Envoie les informations d'attente pour les cibles REST, si applicable.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequest</code> - Demande de signature à mettre à jour en tant qu'attente de signature.</dd>
<dd><code>authUserEppn</code> - Identifiant unique de l'utilisateur authentifié exécutant l'action.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isMoreWorkflowStep(org.esupportail.esupsignature.entity.SignBook)">
<h3>isMoreWorkflowStep</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isMoreWorkflowStep</span><wbr><span class="parameters">(<a href="../entity/SignBook.html" title="class in org.esupportail.esupsignature.entity">SignBook</a>&nbsp;signBook)</span></div>
<div class="block">Vérifie si le SignBook possède davantage d'étapes dans le workflow actuel.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signBook</code> - l'objet SignBook contenant le workflow et ses étapes.</dd>
<dt>Returns:</dt>
<dd>vrai si le workflow du SignBook actuel contient des étapes supplémentaires à celle en cours, faux sinon.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="nextWorkFlowStep(org.esupportail.esupsignature.entity.SignBook)">
<h3>nextWorkFlowStep</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">nextWorkFlowStep</span><wbr><span class="parameters">(<a href="../entity/SignBook.html" title="class in org.esupportail.esupsignature.entity">SignBook</a>&nbsp;signBook)</span></div>
<div class="block">Avance à l'étape suivante du flux de travail pour un SignBook donné, si des étapes supplémentaires existent.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signBook</code> - l'objet SignBook contenant le flux de travail en cours (LiveWorkflow) et ses étapes.</dd>
<dt>Returns:</dt>
<dd>true si le flux de travail a avancé vers une nouvelle étape, false si aucune étape supplémentaire n'existe.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isCurrentStepCompleted(org.esupportail.esupsignature.entity.SignRequest)">
<h3>isCurrentStepCompleted</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isCurrentStepCompleted</span><wbr><span class="parameters">(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest)</span></div>
<div class="block">Vérifie si l'étape actuelle de la demande de signature est terminée.

 L'étape est considérée comme terminée si toutes les demandes de signature associées
 sont dans le statut "terminée" ou "refusée".</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequest</code> - une instance de SignRequest représentant la demande de signature à évaluer</dd>
<dt>Returns:</dt>
<dd>true si l'étape actuelle est terminée, false sinon</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="completeSignRequests(java.util.List,java.lang.String)">
<h3>completeSignRequests</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">completeSignRequests</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&gt;&nbsp;signRequests,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn)</span></div>
<div class="block">Complète les demandes de signature en attribuant le statut "Terminé" si elles ne sont pas refusées.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequests</code> - liste des demandes de signature à compléter</dd>
<dd><code>authUserEppn</code> - 'EPPN' de l'utilisateur authentifié effectuant cette action</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addPostit(java.lang.Long,java.lang.String,java.lang.String,java.lang.String)">
<h3>addPostit</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addPostit</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signBookId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;comment,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn)</span></div>
<div class="block">Ajoute un post-it à un SignBook identifié par son identifiant.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signBookId</code> - L'identifiant du SignBook auquel ajouter un post-it.</dd>
<dd><code>comment</code> - Le commentaire à ajouter sous forme de post-it.</dd>
<dd><code>userEppn</code> - L'identifiant EPPN de l'utilisateur effectuant l'action.</dd>
<dd><code>authUserEppn</code> - L'identifiant EPPN de l'utilisateur authentifié.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="cleanDocuments(org.esupportail.esupsignature.entity.SignRequest,java.lang.String)">
<h3>cleanDocuments</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">cleanDocuments</span><wbr><span class="parameters">(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn)</span></div>
</section>
</li>
<li>
<section class="detail" id="clearAllDocuments(org.esupportail.esupsignature.entity.SignRequest)">
<h3>clearAllDocuments</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">clearAllDocuments</span><wbr><span class="parameters">(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest)</span></div>
</section>
</li>
<li>
<section class="detail" id="deleteNexu(java.lang.Long)">
<h3>deleteNexu</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">deleteNexu</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</span></div>
<div class="block">Supprime les paramètres Nexu et ses signatures associées d'une demande signature.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - L'identifiant de SignRequest à supprimer.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLastSignedFsFile(org.esupportail.esupsignature.entity.SignRequest)">
<h3>getLastSignedFsFile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="interfaces/fs/FsFile.html" title="class in org.esupportail.esupsignature.service.interfaces.fs">FsFile</a></span>&nbsp;<span class="element-name">getLastSignedFsFile</span><wbr><span class="parameters">(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest)</span>
                           throws <span class="exceptions"><a href="../exception/EsupSignatureFsException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureFsException</a></span></div>
<div class="block">Récupère le dernier fichier signé dans le cadre d'une demande de signature.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequest</code> - la demande de signature contenant les informations nécessaires pour identifier le fichier
                    à récupérer. Elle doit inclure des informations sur le statut de la demande et l'URI
                    du document exporté, le cas échéant.</dd>
<dt>Returns:</dt>
<dd>un objet FsFile représentant le dernier fichier signé. Dans le cas où la demande de signature a été
         exportée et que l'URI du document exporté est valide, le fichier correspondant est retourné.
         Si l'URI n'est pas valide, ou si la demande n'est pas marquée comme "exportée", le dernier document
         "à signer" est utilisé pour générer un FsFile.</dd>
<dt>Throws:</dt>
<dd><code><a href="../exception/EsupSignatureFsException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureFsException</a></code> - si une erreur survient lors de l'accès au service de fichiers ou du
                                  traitement de l'URI du document exporté.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="updateStatus(java.lang.Long,org.esupportail.esupsignature.entity.enums.SignRequestStatus,java.lang.String,java.lang.String,java.lang.String,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.String,java.lang.String)">
<h3>updateStatus</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../entity/Log.html" title="class in org.esupportail.esupsignature.entity">Log</a></span>&nbsp;<span class="element-name">updateStatus</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 <a href="../entity/enums/SignRequestStatus.html" title="enum class in org.esupportail.esupsignature.entity.enums">SignRequestStatus</a>&nbsp;signRequestStatus,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;action,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;comment,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;returnCode,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;pageNumber,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;posX,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;posY,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;stepNumber,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn)</span></div>
<div class="block">Met à jour le statut d'une demande de signature et crée un log associé.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequestId</code> - L'identifiant de la demande de signature.</dd>
<dd><code>signRequestStatus</code> - Le nouveau statut de la demande de signature.</dd>
<dd><code>action</code> - L'action effectuée sur la demande.</dd>
<dd><code>comment</code> - Un commentaire associé à l'action.</dd>
<dd><code>returnCode</code> - Le code de retour associé à l'action.</dd>
<dd><code>pageNumber</code> - Le numéro de la page concernée.</dd>
<dd><code>posX</code> - La position horizontale associée à l'action.</dd>
<dd><code>posY</code> - La position verticale associée à l'action.</dd>
<dd><code>stepNumber</code> - Le numéro de l'étape du processus.</dd>
<dd><code>userEppn</code> - L'identifiant unique de l'utilisateur principal.</dd>
<dd><code>authUserEppn</code> - L'identifiant unique de l'utilisateur authentifié.</dd>
<dt>Returns:</dt>
<dd>Un objet Log représentant le log créé associé à la mise à jour du statut.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="delete(java.lang.Long,java.lang.String)">
<h3>delete</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></span>&nbsp;<span class="element-name">delete</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</span></div>
<div class="block">Supprime une demande de signature en fonction de son identifiant et de l'utilisateur spécifié.
 La suppression peut être définitive ou non, en fonction de l'état actuel de la demande.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequestId</code> - L'identifiant de la demande de signature à supprimer.</dd>
<dd><code>userEppn</code> - L'identifiant de l'utilisateur effectuant l'opération de suppression.</dd>
<dt>Returns:</dt>
<dd>L'identifiant de la demande parent (SignBook) si la suppression s'est effectuée correctement.</dd>
<dt>Throws:</dt>
<dd><code><a href="../exception/EsupSignatureRuntimeException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureRuntimeException</a></code> - Si la demande de signature ne peut pas être supprimée.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deleteDefinitive(java.lang.Long,java.lang.String)">
<h3>deleteDefinitive</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></span>&nbsp;<span class="element-name">deleteDefinitive</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</span></div>
<div class="block">Supprime définitivement une demande de signature ainsi que ses données associées, ses commentaires et ses paramètres,
 tout en effectuant le nettoyage approprié sur les objets liés et en notifiant éventuellement les cibles avec des
 informations mises à jour sur l'état de la suppression.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequestId</code> - L'identifiant de la demande de signature à supprimer définitivement.</dd>
<dd><code>userEppn</code> - Le nom principal de l'utilisateur (EPPN) effectuant l'opération de suppression.</dd>
<dt>Returns:</dt>
<dd>L'identifiant du livre de signatures parent si celui-ci n'est pas supprimé ou 0 si le livre de signatures
         a été supprimé.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isDeletetable(org.esupportail.esupsignature.entity.SignRequest,java.lang.String)">
<h3>isDeletetable</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isDeletetable</span><wbr><span class="parameters">(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</span></div>
<div class="block">Vérifie si une demande de signature peut être supprimée.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequest</code> - la demande de signature à évaluer.</dd>
<dd><code>userEppn</code> - l'identifiant unique (eppn) de l'utilisateur effectuant l'action.</dd>
<dt>Returns:</dt>
<dd>true si la demande de signature est supprimable, false sinon.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkTempUsers(java.lang.Long,java.util.List)">
<h3>checkTempUsers</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">checkTempUsers</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../dto/json/RecipientWsDto.html" title="class in org.esupportail.esupsignature.dto.json">RecipientWsDto</a>&gt;&nbsp;recipients)</span>
                       throws <span class="exceptions"><a href="../exception/EsupSignatureRuntimeException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureRuntimeException</a></span></div>
<div class="block">Vérifie les utilisateurs temporaires associés à un SignBook basé sur son identifiant et une liste de destinataires.
 Si des utilisateurs temporaires sont trouvés et correspondent aux destinataires fournis, effectue des actions spécifiques
 comme l'envoi d'email ou la mise à jour des informations d'utilisateur. Retourne true si la vérification échoue, sinon false.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - l'identifiant du SignBook à vérifier</dd>
<dd><code>recipients</code> - la liste des destinataires (RecipientWsDto) à comparer avec les utilisateurs temporaires</dd>
<dt>Returns:</dt>
<dd>true si des utilisateurs temporaires ne correspondent pas aux destinataires fournis ou en nombre insuffisant, false si tout est conforme</dd>
<dt>Throws:</dt>
<dd><code><a href="../exception/EsupSignatureRuntimeException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureRuntimeException</a></code> - en cas d'erreur lors de l'opération</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prefillSignRequestFields(java.lang.Long,java.lang.String)">
<h3>prefillSignRequestFields</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/Field.html" title="class in org.esupportail.esupsignature.entity">Field</a>&gt;</span>&nbsp;<span class="element-name">prefillSignRequestFields</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</span></div>
<div class="block">Pré-remplit les champs d'une demande de signature en fonction des données disponibles,
 du formulaire associé et des étapes du workflow actives.
 Les valeurs par défaut sont définies à partir des données existantes.
 Les autorisations d'édition des champs sont déterminées en fonction de l'utilisateur
 et de l'étape active actuelle dans le workflow.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequestId</code> - l'identifiant de la demande de signature à traiter</dd>
<dd><code>userEppn</code> - le nom principal (EPPN) de l'utilisateur actuel</dd>
<dt>Returns:</dt>
<dd>une liste de champs (`Field`) avec les valeurs pré-remplies et leurs statuts d'édition mis à jour</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isSigned(org.esupportail.esupsignature.entity.SignRequest,eu.europa.esig.dss.validation.reports.Reports)">
<h3>isSigned</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isSigned</span><wbr><span class="parameters">(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 eu.europa.esig.dss.validation.reports.Reports&nbsp;reports)</span></div>
<div class="block">Vérifie si une demande de signature est signée en fonction des rapports et
 des documents associés.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequest</code> - l'objet contenant les informations sur la demande de signature</dd>
<dd><code>reports</code> - l'objet contenant les rapports connexes, peut être null</dd>
<dt>Returns:</dt>
<dd>true si la demande de signature est signée, false sinon</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isSigned(org.esupportail.esupsignature.entity.SignBook,eu.europa.esig.dss.validation.reports.Reports)">
<h3>isSigned</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isSigned</span><wbr><span class="parameters">(<a href="../entity/SignBook.html" title="class in org.esupportail.esupsignature.entity">SignBook</a>&nbsp;signBook,
 eu.europa.esig.dss.validation.reports.Reports&nbsp;reports)</span></div>
<div class="block">Vérifie si un document dans un classeur de signatures est signé.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signBook</code> - le classeur de signatures contenant différentes demandes de signature</dd>
<dd><code>reports</code> - l'objet de rapports utilisé pour suivre les actions ou les états des signatures</dd>
<dt>Returns:</dt>
<dd>true si au moins une des demandes de signature dans le classeur est signée, sinon false</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="validate(long)">
<h3>validate</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">eu.europa.esig.dss.validation.reports.Reports</span>&nbsp;<span class="element-name">validate</span><wbr><span class="parameters">(long&nbsp;signRequestId)</span>
                                                       throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Validation DSS d'une requête de signature en fonction de son identifiant.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequestId</code> - L'identifiant de la requête de signature à valider.</dd>
<dt>Returns:</dt>
<dd>Un objet Reports contenant les informations de validation si des documents à signer existent,
         sinon retourne null.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - Si une erreur d'entrée/sortie se produit lors de la lecture des documents.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addAttachement(org.springframework.web.multipart.MultipartFile[],java.lang.String,java.lang.Long,java.lang.String)">
<h3>addAttachement</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">addAttachement</span><wbr><span class="parameters">(org.springframework.web.multipart.MultipartFile[]&nbsp;multipartFiles,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;link,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn)</span>
                       throws <span class="exceptions"><a href="../exception/EsupSignatureIOException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureIOException</a></span></div>
<div class="block">Ajoute des pièces jointes à une demande de signature. Les fichiers fournis sont
 ajoutés à la demande de signature ainsi qu'un éventuel lien fourni.
 Les pièces jointes sont ajoutées uniquement si elles contiennent des données.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>multipartFiles</code> - un tableau de fichiers à ajouter en tant que pièces jointes
                       à la demande de signature, peut être null</dd>
<dd><code>link</code> - un lien à associer à la demande de signature, peut être null ou vide</dd>
<dd><code>signRequestId</code> - l'identifiant de la demande de signature à laquelle les fichiers
                      et/ou le lien seront ajoutés</dd>
<dd><code>authUserEppn</code> - l'identifiant de l'utilisateur authentifié effectuant l'ajout</dd>
<dt>Returns:</dt>
<dd>true si au moins une pièce jointe ou un lien a été ajouté avec succès,
         false sinon</dd>
<dt>Throws:</dt>
<dd><code><a href="../exception/EsupSignatureIOException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureIOException</a></code> - si une erreur liée à l'ajout des pièces jointes se produit</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeAttachement(java.lang.Long,java.lang.Long,org.springframework.web.servlet.mvc.support.RedirectAttributes)">
<h3>removeAttachement</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeAttachement</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;attachementId,
 org.springframework.web.servlet.mvc.support.RedirectAttributes&nbsp;redirectAttributes)</span></div>
<div class="block">Supprime une pièce jointe associée à une demande de signature.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - l'identifiant de la demande de signature</dd>
<dd><code>attachementId</code> - l'identifiant de la pièce jointe à supprimer</dd>
<dd><code>redirectAttributes</code> - les attributs utilisés pour transmettre des informations supplémentaires
        après la redirection, comme les messages d'erreur ou de succès</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeLink(java.lang.Long,java.lang.Integer)">
<h3>removeLink</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">removeLink</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;linkId)</span></div>
<div class="block">Supprime un lien spécifique d'une requête de signature donnée.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - L'identifiant unique de la requête de signature à partir de laquelle le lien sera supprimé.</dd>
<dd><code>linkId</code> - L'identifiant unique du lien à supprimer dans la liste des liens de la requête.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addComment(java.lang.Long,java.lang.String,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.Integer,java.lang.String,java.lang.Integer,java.lang.String,java.lang.String,boolean)">
<h3>addComment</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></span>&nbsp;<span class="element-name">addComment</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;commentText,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;commentPageNumber,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;commentPosX,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;commentPosY,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;commentWidth,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;commentHeight,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;postit,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;spotStepNumber,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn,
 boolean&nbsp;forceSend)</span></div>
<div class="block">Ajoute un commentaire ou un emplacement de signature à une demande de signature.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - l'identifiant de la demande de signature</dd>
<dd><code>commentText</code> - le texte du commentaire</dd>
<dd><code>commentPageNumber</code> - le numéro de page où le commentaire doit être placé</dd>
<dd><code>commentPosX</code> - la position horizontale du commentaire (X)</dd>
<dd><code>commentPosY</code> - la position verticale du commentaire (Y)</dd>
<dd><code>commentWidth</code> - la largeur du commentaire (optionnel)</dd>
<dd><code>commentHeight</code> - la hauteur du commentaire (optionnel)</dd>
<dd><code>postit</code> - indique si le commentaire est un post-it ("on") ou non</dd>
<dd><code>spotStepNumber</code> - le numéro de l'étape du processus de signature à laquelle l'emplacement se réfère (optionnel)</dd>
<dd><code>authUserEppn</code> - le eppn de l'utilisateur authentifié qui effectue l'opération</dd>
<dd><code>userEppn</code> - le eppn de l'utilisateur pour lequel le post-it doit être envoyé</dd>
<dd><code>forceSend</code> - indique s'il faut forcer l'envoi du post-it par email, même si la configuration globale ne l'exige pas</dd>
<dt>Returns:</dt>
<dd>l'identifiant du commentaire créé, ou null si l'opération n'est pas autorisée</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getNbPendingSignRequests(java.lang.String)">
<h3>getNbPendingSignRequests</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></span>&nbsp;<span class="element-name">getNbPendingSignRequests</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</span></div>
<div class="block">Retourne le nombre de demandes de signature en attente pour un utilisateur donné.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>userEppn</code> - l'identifiant EPPN de l'utilisateur</dd>
<dt>Returns:</dt>
<dd>le nombre de demandes de signature en attente</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getNbDraftSignRequests(java.lang.String)">
<h3>getNbDraftSignRequests</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></span>&nbsp;<span class="element-name">getNbDraftSignRequests</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</span></div>
<div class="block">Renvoie le nombre de demandes de signature ayant le statut "brouillon" pour un utilisateur donné.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>userEppn</code> - le eppn de l'utilisateur dont les demandes de signature doivent être comptées</dd>
<dt>Returns:</dt>
<dd>le nombre de demandes de signature avec le statut "brouillon" associées à l'utilisateur donné</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getOriginalFileResponse(java.lang.Long,jakarta.servlet.http.HttpServletResponse)">
<h3>getOriginalFileResponse</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">getOriginalFileResponse</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 jakarta.servlet.http.HttpServletResponse&nbsp;httpServletResponse)</span>
                             throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Fournit le fichier original associé à une requête de signature donnée.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequestId</code> - l'identifiant de la requête de signature pour laquelle le fichier original est demandé.</dd>
<dd><code>httpServletResponse</code> - l'objet HttpServletResponse dans lequel le fichier sera écrit.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - si une erreur d'entrée/sortie survient pendant l'écriture du fichier dans la réponse.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAttachmentResponse(java.lang.Long,java.lang.Long,jakarta.servlet.http.HttpServletResponse)">
<h3>getAttachmentResponse</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">getAttachmentResponse</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;attachementId,
 jakarta.servlet.http.HttpServletResponse&nbsp;httpServletResponse)</span>
                              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Récupère une pièce jointe associée à une requête de signature et écrit son contenu dans la réponse HTTP.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequestId</code> - l'identifiant de la requête de signature</dd>
<dd><code>attachementId</code> - l'identifiant de la pièce jointe à récupérer</dd>
<dd><code>httpServletResponse</code> - la réponse HTTP dans laquelle le contenu de la pièce jointe sera écrit</dd>
<dt>Returns:</dt>
<dd>true si la pièce jointe est trouvée et correctement copiée dans la réponse, false sinon</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - si une erreur d'entrée/sortie survient lors de l'écriture du fichier dans la réponse HTTP</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getToSignFileResponse(java.lang.Long,java.lang.String,jakarta.servlet.http.HttpServletResponse,boolean)">
<h3>getToSignFileResponse</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">getToSignFileResponse</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;disposition,
 jakarta.servlet.http.HttpServletResponse&nbsp;httpServletResponse,
 boolean&nbsp;force)</span>
                           throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../exception/EsupSignatureRuntimeException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureRuntimeException</a>,
<a href="../exception/EsupSignatureException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureException</a></span></div>
<div class="block">Fournit un fichier à signer, en fonction de l'état de la requête de signature et des paramètres fournis.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequestId</code> - L'identifiant unique de la requête de signature.</dd>
<dd><code>disposition</code> - La disposition de contenu HTTP (par exemple, "inline" ou "attachment").</dd>
<dd><code>httpServletResponse</code> - La réponse HTTP dans laquelle le fichier sera injecté.</dd>
<dd><code>force</code> - Indique si l'action doit être forcée, même si certaines restrictions sont imposées (par exemple, le téléchargement avant la fin du circuit).</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - Si une erreur d'entrée/sortie survient lors de la copie du fichier dans la réponse.</dd>
<dd><code><a href="../exception/EsupSignatureRuntimeException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureRuntimeException</a></code> - Si une erreur non contrôlée spécifique à l'application survient.</dd>
<dd><code><a href="../exception/EsupSignatureException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureException</a></code> - Si une exception liée à la logique métier survient, comme une interdiction de téléchargement.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getToSignFileResponseWithCode(java.lang.Long,jakarta.servlet.http.HttpServletResponse)">
<h3>getToSignFileResponseWithCode</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">getToSignFileResponseWithCode</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 jakarta.servlet.http.HttpServletResponse&nbsp;httpServletResponse)</span>
                                   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../exception/EsupSignatureRuntimeException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureRuntimeException</a>,
com.google.zxing.WriterException</span></div>
<div class="block">Génère une réponse contenant un document prêt à être signé, ou un fichier signé avec un QR code,
 et l'écrit dans la réponse HTTP fournie.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequestId</code> - l'identifiant de la requête de signature</dd>
<dd><code>httpServletResponse</code> - l'objet HttpServletResponse dans lequel le fichier sera écrit</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - si une erreur d'entrée/sortie se produit</dd>
<dd><code><a href="../exception/EsupSignatureRuntimeException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureRuntimeException</a></code> - si une erreur spécifique à l'application survient pendant le traitement</dd>
<dd><code>com.google.zxing.WriterException</code> - si une erreur survient lors de la génération du QR code</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSignedFileAndReportResponse(java.lang.Long,jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse,boolean)">
<h3>getSignedFileAndReportResponse</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">getSignedFileAndReportResponse</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 jakarta.servlet.http.HttpServletRequest&nbsp;httpServletRequest,
 jakarta.servlet.http.HttpServletResponse&nbsp;httpServletResponse,
 boolean&nbsp;force)</span>
                                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block">Fournit un fichier signé accompagné de son rapport.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequestId</code> - l'identifiant de la requête de signature.</dd>
<dd><code>httpServletRequest</code> - la requête HTTP d'origine.</dd>
<dd><code>httpServletResponse</code> - la réponse HTTP dans laquelle le fichier est transmis.</dd>
<dd><code>force</code> - un indicateur permettant de forcer le téléchargement même si certaines restrictions sont en place.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code> - si une erreur survient durant le traitement, notamment si les restrictions de téléchargement ne sont pas respectées.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getZipWithDocAndReport(org.esupportail.esupsignature.entity.SignRequest,jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse)">
<h3>getZipWithDocAndReport</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">byte[]</span>&nbsp;<span class="element-name">getZipWithDocAndReport</span><wbr><span class="parameters">(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 jakarta.servlet.http.HttpServletRequest&nbsp;httpServletRequest,
 jakarta.servlet.http.HttpServletResponse&nbsp;httpServletResponse)</span>
                              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block">Génère et retourne un fichier ZIP contenant les documents et un rapport associés à une demande de signature.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequest</code> - la demande de signature pour laquelle les documents et le rapport doivent être générés</dd>
<dd><code>httpServletRequest</code> - l'objet HttpServletRequest lié à la requête HTTP actuelle</dd>
<dd><code>httpServletResponse</code> - l'objet HttpServletResponse lié à la réponse HTTP actuelle</dd>
<dt>Returns:</dt>
<dd>un tableau d'octets représentant le fichier ZIP généré</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code> - si une erreur survient lors de la génération du fichier ZIP</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFileResponse(java.lang.Long,jakarta.servlet.http.HttpServletResponse)">
<h3>getFileResponse</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">getFileResponse</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;documentId,
 jakarta.servlet.http.HttpServletResponse&nbsp;httpServletResponse)</span>
                     throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Fournit document donné via son id.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>documentId</code> - L'identifiant du document à télécharger.</dd>
<dd><code>httpServletResponse</code> - L'objet HttpServletResponse dans lequel le contenu du fichier doit être écrit.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - Si une erreur d'entrée/sortie se produit lors de l'écriture dans la réponse HTTP.</dd>
<dd><code><a href="../exception/EsupSignatureRuntimeException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureRuntimeException</a></code> - Si le téléchargement du fichier est interdit en fonction des règles métier (par exemple : workflow interdit les téléchargements avant sa
  fin).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAttachments(java.lang.Long)">
<h3>getAttachments</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/Document.html" title="class in org.esupportail.esupsignature.entity">Document</a>&gt;</span>&nbsp;<span class="element-name">getAttachments</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId)</span></div>
<div class="block">Récupère la liste des pièces jointes associées à une demande de signature donnée.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequestId</code> - l'identifiant de la demande de signature pour laquelle récupérer les pièces jointes</dd>
<dt>Returns:</dt>
<dd>une liste de documents représentant les pièces jointes associées à la demande de signature</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="replayNotif(java.lang.Long,java.lang.String)">
<h3>replayNotif</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">replayNotif</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</span>
                    throws <span class="exceptions"><a href="../exception/EsupSignatureMailException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureMailException</a></span></div>
<div class="block">Relance une notification pour une demande de signature si les conditions sont remplies.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - l'identifiant de la demande de signature</dd>
<dd><code>userEppn</code> - l'identifiant eppn de l'utilisateur demandant la relance</dd>
<dt>Returns:</dt>
<dd>un booléen indiquant si la notification a été relancée avec succès</dd>
<dt>Throws:</dt>
<dd><code><a href="../exception/EsupSignatureMailException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureMailException</a></code> - si une erreur survient lors de l'envoi de l'email</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isDisplayNotif(org.esupportail.esupsignature.entity.SignRequest,java.lang.String)">
<h3>isDisplayNotif</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isDisplayNotif</span><wbr><span class="parameters">(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</span></div>
<div class="block">Détermine si une notification doit être affichée pour une demande de signature donnée
 et un utilisateur spécifique.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequest</code> - un objet SignRequest représentant la demande de signature à évaluer</dd>
<dd><code>userEppn</code> - le eppn (entitlement principal name) de l'utilisateur concerné</dd>
<dt>Returns:</dt>
<dd>true si une notification doit être affichée, false sinon</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getRecipientNotPresentSignRequests(java.lang.String)">
<h3>getRecipientNotPresentSignRequests</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&gt;</span>&nbsp;<span class="element-name">getRecipientNotPresentSignRequests</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;eppn)</span></div>
<div class="block">Récupère une liste de demandes de signature pour lesquelles le destinataire n'est pas présent
 dans le système de gestion d'annuaire (LDAP) ou possède un type d'utilisateur externe ou Shibboleth.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>eppn</code> - L'identifiant unique de la personne (EPPN) ayant créé les demandes de signature.</dd>
<dt>Returns:</dt>
<dd>Une liste de demandes de signature (SignRequest) correspondant aux critères de filtrage.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getToUseSignRequestParams(java.lang.Long,java.lang.String)">
<h3>getToUseSignRequestParams</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/SignRequestParams.html" title="class in org.esupportail.esupsignature.entity">SignRequestParams</a>&gt;</span>&nbsp;<span class="element-name">getToUseSignRequestParams</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</span></div>
<div class="block">Retourne une liste de paramètres de demande de signature pour l'utilisateur spécifié et l'identifiant donné.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - L'identifiant de la demande de signature.</dd>
<dd><code>userEppn</code> - L'identifiant EPPN de l'utilisateur pour lequel les paramètres de signature sont à récupérer.</dd>
<dt>Returns:</dt>
<dd>Une liste de paramètres de demande de signature (SignRequestParams) que l'utilisateur peut utiliser, en se basant sur l'état actuel du flux de travail et de la demande
  de signature.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getToValidateFile(long)">
<h3>getToValidateFile</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a></span>&nbsp;<span class="element-name">getToValidateFile</span><wbr><span class="parameters">(long&nbsp;id)</span>
                              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Récupère un fichier à valider associé à une demande de signature.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - l'identifiant de la demande de signature (SignRequest) à traiter</dd>
<dt>Returns:</dt>
<dd>un flux d'entrée (`InputStream`) du fichier à valider, ou `null` si aucun fichier n'est disponible</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - si une erreur d'entrée/sortie se produit lors de la manipulation du fichier</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllToJSon(java.lang.String)">
<h3>getAllToJSon</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getAllToJSon</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;xApikey)</span>
                    throws <span class="exceptions">com.fasterxml.jackson.core.JsonProcessingException</span></div>
<div class="block">Récupère et transforme toutes les données disponibles en format JSON en fonction de l'access token fourni.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>xApikey</code> - Le token d'accès utilisé pour déterminer les workflows accessibles ou pour récupérer l'ensemble des données.</dd>
<dt>Returns:</dt>
<dd>Une chaîne de caractères représentant les données récupérées en format JSON.</dd>
<dt>Throws:</dt>
<dd><code>com.fasterxml.jackson.core.JsonProcessingException</code> - Si une erreur se produit lors de la conversion des données en JSON.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isAttachmentAlert(org.esupportail.esupsignature.entity.SignRequest)">
<h3>isAttachmentAlert</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isAttachmentAlert</span><wbr><span class="parameters">(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest)</span></div>
<div class="block">Vérifie si une alerte de pièce jointe doit être déclenchée pour une demande de signature donnée.

 Cette méthode évalue si la demande de signature possède des alertes de pièce jointe actives dans
 l'étape actuelle de son workflow, tout en n'ayant aucune pièce jointe associée.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequest</code> - l'objet SignRequest pour lequel l'alerte de pièce jointe doit être vérifiée</dd>
<dt>Returns:</dt>
<dd>true si une alerte de pièce jointe doit être déclenchée, false sinon</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isAttachmentRequire(org.esupportail.esupsignature.entity.SignRequest)">
<h3>isAttachmentRequire</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isAttachmentRequire</span><wbr><span class="parameters">(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest)</span></div>
<div class="block">Vérifie si une pièce jointe est requise pour une demande de signature donnée.

 Cette méthode détermine si une pièce jointe est requise en fonction des paramètres du flux de travail associé
 et de l'étape actuelle du processus. Une pièce jointe est considérée comme requise si elle est nécessaire
 soit au niveau de l'étape de workflow, soit au niveau de l'étape actuelle de traitement,
 et si aucune pièce jointe n'est actuellement associée à cette demande de signature.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequest</code> - La demande de signature pour laquelle la vérification est effectuée</dd>
<dt>Returns:</dt>
<dd>true si une pièce jointe est requise ; false sinon</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="warningReaded(java.lang.String)">
<h3>warningReaded</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">warningReaded</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;authUserEppn)</span></div>
<div class="block">Marque les avertissements de requêtes de signature comme lus pour un utilisateur authentifié.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>authUserEppn</code> - l'identifiant EPPN de l'utilisateur authentifié</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="anonymize(java.lang.String,org.esupportail.esupsignature.entity.User)">
<h3>anonymize</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">anonymize</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn,
 <a href="../entity/User.html" title="class in org.esupportail.esupsignature.entity">User</a>&nbsp;anonymous)</span></div>
<div class="block">Anonymise les demandes de signature créées par un utilisateur en remplaçant
 l'utilisateur d'origine par un utilisateur anonyme.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>userEppn</code> - le eppn de l'utilisateur dont les données doivent être anonymisées</dd>
<dd><code>anonymous</code> - l'utilisateur anonyme utilisé pour remplacer l'utilisateur d'origine</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPostits(java.lang.Long)">
<h3>getPostits</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/Comment.html" title="class in org.esupportail.esupsignature.entity">Comment</a>&gt;</span>&nbsp;<span class="element-name">getPostits</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</span></div>
<div class="block">Récupère une liste de commentaires de type Post-it pour un SignRequest donné.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - l'identifiant du SignRequest à partir duquel les commentaires de type Post-it seront récupérés</dd>
<dt>Returns:</dt>
<dd>une liste de commentaires de type Post-it associés au SignRequest spécifié</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getComments(java.lang.Long)">
<h3>getComments</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/Comment.html" title="class in org.esupportail.esupsignature.entity">Comment</a>&gt;</span>&nbsp;<span class="element-name">getComments</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</span></div>
<div class="block">Récupère la liste des commentaires associés à une demande de signature,
 en excluant les commentaires type "post-it" et ceux ayant un numéro d'étape.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - l'identifiant de la demande de signature associée</dd>
<dt>Returns:</dt>
<dd>une liste de commentaires filtrée, excluant les commentaires "post-it"
 et ceux ayant un numéro d'étape</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSpots(java.lang.Long)">
<h3>getSpots</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/Comment.html" title="class in org.esupportail.esupsignature.entity">Comment</a>&gt;</span>&nbsp;<span class="element-name">getSpots</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</span></div>
<div class="block">Récupère une liste d'emplacements associés à l'identifiant spécifié,
 en filtrant ceux qui possèdent un numéro d'étape défini.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - l'identifiant de la demande de signature dont les commentaires doivent être récupérés</dd>
<dt>Returns:</dt>
<dd>une liste de commentaires contenant uniquement ceux avec un numéro d'étape défini</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getJson(java.lang.Long)">
<h3>getJson</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getJson</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</span>
               throws <span class="exceptions">com.fasterxml.jackson.core.JsonProcessingException</span></div>
<div class="block">Récupère une représentation JSON d'une entité SignRequest à partir de son identifiant.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - l'identifiant unique de l'entité SignRequest</dd>
<dt>Returns:</dt>
<dd>une chaîne de caractères représentant l'objet SignRequest sous forme de JSON</dd>
<dt>Throws:</dt>
<dd><code>com.fasterxml.jackson.core.JsonProcessingException</code> - si une erreur survient lors de la conversion de l'objet en JSON</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getParentIdIfSignRequestUnique(java.lang.Long)">
<h3>getParentIdIfSignRequestUnique</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a></span>&nbsp;<span class="element-name">getParentIdIfSignRequestUnique</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</span></div>
<div class="block">Récupère l'identifiant du parent d'une requête de signature si elle est unique dans son SignBook parent.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - l'identifiant de la requête de signature pour laquelle on veut récupérer l'identifiant du parent</dd>
<dt>Returns:</dt>
<dd>l'identifiant du parent si la requête de signature est la seule dans son livre de signatures parent,
         sinon retourne null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAuditTrailJson(java.lang.Long)">
<h3>getAuditTrailJson</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getAuditTrailJson</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</span>
                         throws <span class="exceptions">com.fasterxml.jackson.core.JsonProcessingException</span></div>
<div class="block">Récupère le dossier de preuve sous forme de chaîne JSON pour une demande de signature donnée.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - l'identifiant de la demande de signature dont on souhaite récupérer l'audit trail</dd>
<dt>Returns:</dt>
<dd>une chaîne JSON représentant l'audit trail de la demande de signature si elle existe,
         sinon une chaîne vide</dd>
<dt>Throws:</dt>
<dd><code>com.fasterxml.jackson.core.JsonProcessingException</code> - si une erreur survient lors de la conversion en JSON</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getByIdAndRecipient(java.lang.Long,java.lang.String)">
<h3>getByIdAndRecipient</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&gt;</span>&nbsp;<span class="element-name">getByIdAndRecipient</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</span></div>
<div class="block">Récupère une liste de demandes de signature associées à un ID spécifique et un destinataire donné.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - L'identifiant unique de la demande de signature à rechercher.</dd>
<dd><code>userEppn</code> - Le nom principal utilisateur (userEppn) du destinataire associé à la demande.</dd>
<dt>Returns:</dt>
<dd>Une liste d'objets SignRequest correspondant aux critères de recherche, ou une liste vide si aucun résultat n'est trouvé.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="viewedBy(java.lang.Long,java.lang.String)">
<h3>viewedBy</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">viewedBy</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</span></div>
<div class="block">Marque une demande de signature comme "vue" par un utilisateur spécifique.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequestId</code> - l'identifiant unique de la demande de signature à marquer comme vue</dd>
<dd><code>userEppn</code> - l'identifiant ePPN (eduPersonPrincipalName) de l'utilisateur qui a vu la demande de signature</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getExternalRecipients(java.lang.Long)">
<h3>getExternalRecipients</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../dto/json/RecipientWsDto.html" title="class in org.esupportail.esupsignature.dto.json">RecipientWsDto</a>&gt;</span>&nbsp;<span class="element-name">getExternalRecipients</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;signRequestId)</span></div>
<div class="block">Récupère les destinataires externes associés à une requête de signature.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequestId</code> - L'identifiant de la requête de signature pour laquelle
                      les destinataires externes doivent être récupérés.</dd>
<dt>Returns:</dt>
<dd>Une liste d'objets RecipientWsDto contenant des informations sur les
         destinataires externes, notamment leur identifiant et leur email.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getStepsDto(java.lang.Long)">
<h3>getStepsDto</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../dto/json/SignRequestStepsDto.html" title="class in org.esupportail.esupsignature.dto.json">SignRequestStepsDto</a>&gt;</span>&nbsp;<span class="element-name">getStepsDto</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</span></div>
<div class="block">Récupère une liste des étapes d'une demande de signature sous forme d'objets SignRequestStepsDto.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - L'identifiant unique de la demande de signature (SignRequest).</dd>
<dt>Returns:</dt>
<dd>Une liste de <code>SignRequestStepsDto</code> qui représentent les étapes de la demande de signature,
         avec les informations sur les actions des destinataires et les métadonnées associées.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAbstractSignatureForm(java.util.List,org.esupportail.esupsignature.entity.SignRequest,boolean)">
<h3>getAbstractSignatureForm</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../dss/model/SignatureDocumentForm.html" title="class in org.esupportail.esupsignature.dss.model">SignatureDocumentForm</a></span>&nbsp;<span class="element-name">getAbstractSignatureForm</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../entity/Document.html" title="class in org.esupportail.esupsignature.entity">Document</a>&gt;&nbsp;documents,
 <a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 boolean&nbsp;includeDocuments)</span>
                                               throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../exception/EsupSignatureRuntimeException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureRuntimeException</a></span></div>
<div class="block">Génère et retourne un formulaire de signature DSS pour des documents donnés, en prenant en compte
 les paramètres de signature et d'inclusion des documents.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>documents</code> - une liste d'objets Document représentant les fichiers à signer.</dd>
<dd><code>signRequest</code> - un objet SignRequest contenant les informations de la demande de signature.</dd>
<dd><code>includeDocuments</code> - un booléen indiquant si les documents doivent être inclus dans le processus de signature.</dd>
<dt>Returns:</dt>
<dd>une instance de SignatureDocumentForm correspondant au formulaire de signature généré.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - si une erreur d'entrée/sortie se produit lors du traitement des fichiers.</dd>
<dd><code><a href="../exception/EsupSignatureRuntimeException.html" title="class in org.esupportail.esupsignature.exception">EsupSignatureRuntimeException</a></code> - si une erreur spécifique à EsupSignature survient.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="cleanSignRequestParams(java.lang.Long)">
<h3>cleanSignRequestParams</h3>
<div class="member-signature"><span class="annotations">@Transactional
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">cleanSignRequestParams</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;id)</span>
                            throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Nettoie les paramètres de requêtes de signature associés à un identifiant donné.

 Cette méthode supprime les paramètres de requêtes de signature si les conditions
 définies sont remplies. Elle vérifie si la liste des identifiants de signature
 dans le rapport simple est vide et si le workflow associé est nul,
 avant de vider les listes correspondantes de paramètres.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - l'identifiant unique de la requête de signature à traiter</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - si une erreur d'entrée/sortie survient durant le traitement</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isCurrentUserAsSigned(org.esupportail.esupsignature.entity.SignRequest,java.lang.String)">
<h3>isCurrentUserAsSigned</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isCurrentUserAsSigned</span><wbr><span class="parameters">(<a href="../entity/SignRequest.html" title="class in org.esupportail.esupsignature.entity">SignRequest</a>&nbsp;signRequest,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userEppn)</span></div>
<div class="block">Vérifie si l'utilisateur actuel a signé la demande de signature.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>signRequest</code> - la demande de signature à vérifier</dd>
<dd><code>userEppn</code> - l'identifiant EPPN de l'utilisateur pour vérifier l'état de signature</dd>
<dt>Returns:</dt>
<dd>true si l'utilisateur identifié par le EPPN a signé la demande, false sinon</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
